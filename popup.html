<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Tab Capture Studio</title>
    <link rel="stylesheet" href="dist/output.css" />
  </head>
  <body class="m-0 font-sans bg-bg text-text min-w-80">
    <main class="p-4 pb-4 bg-panel-bg border border-panel-border m-3 rounded-xl relative overflow-hidden">
      <header class="mb-2.5 relative z-1">
        <div class="flex items-center justify-between gap-3 mb-1">
          <h1 class="text-xl m-0 font-bold">タブキャプチャ</h1>
          <button
            class="btn-icon"
            id="open-settings"
            aria-label="設定"
          >
            <svg class="w-4 h-4 block" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"/>
              <circle cx="12" cy="12" r="3"/>
            </svg>
          </button>
        </div>
        <p class="text-xs m-0 text-muted leading-relaxed">アクティブタブをキャプチャします</p>
      </header>

      <section
        class="text-xs text-muted border border-panel-border rounded-full py-1.5 px-2.5 inline-flex items-center gap-2 my-3 relative z-1 bg-white w-fit"
        aria-live="polite"
      >
        <span id="status" class="inline-flex items-center gap-1.5">待機中</span>
        <span id="status-indicator" class="w-1.5 h-1.5 rounded-full bg-accent inline-block animate-pulse-dot"></span>
      </section>

      <!-- 画面キャプチャ セクション -->
      <section class="card">
        <h2 class="section-title">
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5" />
            <rect x="2" y="6" width="14" height="12" rx="2" />
          </svg>
          画面キャプチャ
        </h2>
        <div class="grid gap-2">
          <button class="btn" id="record-toggle">
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10" />
              <circle cx="12" cy="12" r="4" fill="currentColor" />
            </svg>
            <span id="record-label">画面録画</span>
          </button>
          <button class="btn" id="capture">
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z" />
              <circle cx="12" cy="13" r="3" />
            </svg>
            スクリーンショット
          </button>
        </div>
      </section>

      <!-- ウィンドウサイズ セクション -->
      <section class="card mt-3">
        <h2 class="section-title">
          <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M15 3h6v6" />
            <path d="m21 3-7 7" />
            <path d="m3 21 7-7" />
            <path d="M9 21H3v-6" />
          </svg>
          ウィンドウサイズ
        </h2>
        <div class="grid gap-2.5">
          <select id="window-size" class="select-field">
            <optgroup label="16:9">
              <option value="960x540">960 × 540</option>
              <option value="1280x720">1280 × 720</option>
              <option value="1366x768">1366 × 768</option>
              <option value="1600x900">1600 × 900</option>
            </optgroup>
            <optgroup label="16:10">
              <option value="1024x600">1024 × 600</option>
              <option value="1280x800">1280 × 800</option>
              <option value="1440x900">1440 × 900</option>
              <option value="1600x1000">1600 × 1000</option>
            </optgroup>
            <optgroup label="4:3">
              <option value="800x600">800 × 600</option>
              <option value="1024x768">1024 × 768</option>
              <option value="1280x960">1280 × 960</option>
            </optgroup>
          </select>

          <div class="grid grid-cols-2 gap-2">
            <button class="btn w-full gap-1.5" id="apply-window-size">
              <svg class="w-3.5 h-3.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M20 6 9 17l-5-5" />
              </svg>
              適用
            </button>
            <button class="btn w-full gap-1.5" id="reset-window-size">
              <svg class="w-3.5 h-3.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M9 14 4 9l5-5" />
                <path d="M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11" />
              </svg>
              元に戻す
            </button>
          </div>
        </div>
      </section>
    </main>

    <script src="popup.js"></script>
  </body>
</html>
